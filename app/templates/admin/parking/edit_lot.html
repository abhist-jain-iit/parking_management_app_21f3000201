{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <h2>Edit Parking Lot</h2>
  <form method="post">
    <div class="form-group mb-3">
      <label for="name">Name</label>
      <input type="text" class="form-control" name="name" id="name" value="{{ lot.name }}" required>
    </div>
    <div class="form-group mb-3">
      <label for="address">Address</label>
      <input type="text" class="form-control" name="address" id="address" value="{{ lot.address }}" required>
    </div>
    <div class="form-group mb-3">
      <label for="city_id">City</label>
      <select class="form-control" name="city_id" id="city_id" required>
        <option value="">Select City</option>
        {% for city in cities %}
          <option value="{{ city.id }}" {% if lot.city_id == city.id %}selected{% endif %}>{{ city.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group mb-3">
      <label for="total_spots">Total Spots</label>
      <input type="number" class="form-control" name="total_spots" id="total_spots" value="{{ lot.total_spots }}" required>
    </div>
    <div class="form-group mb-3">
      <label for="price_per_hour">Price Per Hour</label>
      <input type="number" step="0.01" class="form-control" name="price_per_hour" id="price_per_hour" value="{{ lot.price_per_hour }}" required>
    </div>
    <div class="form-group mb-3">
      <label for="status">Status</label>
      <select class="form-control" name="status" id="status">
        <option value="ACTIVE" {% if lot.status.value == 'active' %}selected{% endif %}>Active</option>
        <option value="INACTIVE" {% if lot.status.value == 'inactive' %}selected{% endif %}>Inactive</option>
        <option value="UNDER_MAINTENANCE" {% if lot.status.value == 'under_maintenance' %}selected{% endif %}>Under Maintenance</option>
        <option value="BANNED" {% if lot.status.value == 'banned' %}selected{% endif %}>Banned</option>
      </select>
    </div>
    <button type="submit" class="btn btn-success">Update</button>
    <a href="{{ url_for('admin.list_lots') }}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %} 